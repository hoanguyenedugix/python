<div style="max-width:700px;margin:0 auto;padding:24px;background:#fff;border-radius:12px;
         box-shadow:0 2px 12px rgba(0,0,0,0.08);font-family:'Segoe UI',Arial,sans-serif;
         font-size:16px;color:#212121;" data-type="object" data-field="root">
  <div data-type="object" data-field="lesson" style="display:none;">
    <span data-type="number" data-field="id">{{ lesson.id }}</span>
  </div>
  <!-- Lesson Overview -->
  <div style="margin-top:10px;" data-type="object" data-field="lessonOverview">
    <h1 style="text-align:center;font-size:2.2em;color:#206eb7;margin-bottom:8px;" data-type="string"
      data-field="title">
      {{ lessonOverview.title }}
    </h1>

    <div style="text-align:center;" data-type="string" data-field="topic">
      {{ lessonOverview.topic }}
    </div>

    <h2 style="font-size:1.4em;color:#f49f1c;margin-bottom:6px;">Lesson Overview</h2>

    <!-- Resources -->
    <div style="margin-top:10px;" data-type="object" data-field="resources">

      <!-- Student Book -->
      <div style="margin-bottom:12px;" data-type="object" data-field="studentBook">
        <span style="display:inline-block;font-weight:600;color:#31596e;">Student Book:</span>
        <div data-type="string" data-field="pages">
          {{ lessonOverview.resources.studentBook.pages }}
        </div>
        <ul style="margin:4px 0 4px 22px;padding:0;" data-type="array" data-field="activities">
          {% for act in lessonOverview.resources.studentBook.activities %}
          <li data-type="object" data-item="true">
            <span data-type="string" data-field="name">{{ act.name }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Activity Book -->
      <div style="margin-bottom:12px;" data-type="object" data-field="activityBook">
        <span style="display:inline-block;font-weight:600;color:#31596e;">Activity Book:</span>
        <div data-type="string" data-field="pages">
          {{ lessonOverview.resources.activityBook.pages }}
        </div>
        <ul style="margin:4px 0 4px 22px;padding:0;" data-type="array" data-field="activities">
          {% for act in lessonOverview.resources.activityBook.activities %}
          <li data-type="object" data-item="true">
            <span data-type="string" data-field="name">{{ act.name }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Phonics Book -->
      <div style="margin-bottom:12px;" data-type="object" data-field="phonicsBook">
        <span style="display:inline-block;font-weight:600;color:#31596e;">Phonics Book:</span>
        <div data-type="string" data-field="pages">
          {{ lessonOverview.resources.phonicsBook.pages }}
        </div>
        <ul style="margin:4px 0 4px 22px;padding:0;" data-type="array" data-field="activities">
          {% for act in lessonOverview.resources.phonicsBook.activities %}
          <li data-type="object" data-item="true">
            <span data-type="string" data-field="name">{{ act.name }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Homework -->
      <div style="margin-bottom:12px;" data-type="string" data-field="homework" {% if lessonOverview.resources.homework
        is none %}data-null="true" {% endif %}>
        {% if lessonOverview.resources.homework is not none %}
        {{ lessonOverview.resources.homework }}
        {% endif %}
      </div>

      <!-- Materials -->
      <div style="margin-bottom:12px;" data-type="object">
        <span style="display:inline-block;font-weight:600;color:#31596e;">Materials</span>
        <ul data-type="array" data-field="materials" style="margin:4px 0 4px 22px;padding:0;">
          {% for mat in lessonOverview.resources.materials %}
          <li data-type="string" data-item="true">{{ mat }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <!-- Vocabulary -->
    <div style="margin:12px 0;" data-type="object">
      <span style="font-weight:bold;">Vocabulary:</span>
      <ul data-type="array" data-field="vocabulary" style="margin:4px 0 4px 22px;padding:0;">
        {% for vocab in lessonOverview.vocabulary %}
        <li data-type="string" data-item="true">{{ vocab }}</li>
        {% endfor %}
      </ul>
    </div>

    <!-- Structures -->
    <div style="margin:12px 0;" data-type="object">
      <span style="font-weight:bold;">Structures:</span>
      <ul data-type="array" data-field="structures" style="margin:4px 0 4px 22px;padding:0;">
        {% for struct in lessonOverview.structures %}
        <li data-type="string" data-item="true">{{ struct }}</li>
        {% endfor %}
      </ul>
    </div>

    <!-- Phonics -->
    <div style="margin:12px 0;" data-type="object">
      <span style="font-weight:bold;">Phonics:</span>
      <ul data-type="array" data-field="phonics" style="margin:4px 0 4px 22px;padding:0;">
        {% for phon in lessonOverview.phonics %}
        <li data-type="string" data-item="true">{{ phon }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <!-- Lesson Outcomes -->
  <div style="margin-top:30px;" data-type="array" data-field="lessonOutcomes">
    <h2 style="font-size:1.4em;color:#f49f1c;margin-bottom:6px;">Lesson Outcomes</h2>

    {% for outcome in lessonOutcomes %}
    <div style="margin-bottom:16px;padding:8px;border-left:4px solid #f49f1c;
                background:#fff9f2;border-radius:6px;" data-type="object" data-item="true">

      <p data-type="string" data-field="outcome">
        {{ outcome.outcome }}
      </p>
      <p data-type="string" data-field="category">
        {{ outcome.category }}
      </p>

      <p><strong>Support Strategies:</strong></p>
      <ul data-type="array" data-field="supportStrategies">
        {% for s in outcome.supportStrategies %}
        <li data-type="string" data-item="true">{{ s }}</li>
        {% endfor %}
      </ul>

      <p><strong>Stretch Strategies:</strong></p>
      <ul data-type="array" data-field="stretchStrategies">
        {% for s in outcome.stretchStrategies %}
        <li data-type="string" data-item="true">{{ s }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endfor %}
  </div>

  <!-- Language Transfer Analysis -->
  <div style="margin-top:30px;" data-type="array" data-field="languageTransferAnalysis">
    <h2 style="font-size:1.4em;color:#f49f1c;margin-bottom:6px;">Language Transfer Analysis</h2>
    {% for section in languageTransferAnalysis %}
    <div style="margin-bottom:12px;" data-type="object" data-item="true">
      <p data-type="string" data-field="section">
        <strong>{{ section.section }}</strong>
      </p>
      <ul data-type="array" data-field="items">
        {% for item in section['items'] %}
        <li data-type="string" data-item="true">{{ item }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endfor %}
  </div>
  <!-- Lession Plan Template End -->
  <div style="margin-top:30px;" data-type="string" data-field="lessonPlan" {% if lessonPlan is none %}data-null="true"
    {% endif %}>
    {% if lessonPlan is not none %}
    {{ lessonPlan }}
    {% endif %}
  </div>

</div>